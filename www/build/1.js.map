{"version":3,"sources":["../../src/pages/create-doador/create-doador.module.ts","../../src/validators/confirmPassword.ts","../../src/pages/create-doador/create-doador.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CreateDoadorPage } from './create-doador';\n\n@NgModule({\n  declarations: [\n    CreateDoadorPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CreateDoadorPage),\n  ],\n})\nexport class CreateDoadorPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/create-doador/create-doador.module.ts","import { AbstractControl } from \"@angular/forms\";\r\n// Valida se as senhas do cadastro são iguais\r\nexport function ValidateConfirmPassword(control: AbstractControl) {\r\n    if (!control.root.value) {\r\n        return null;\r\n    }\r\n\r\n    if (control.value === control.root.value.password) {\r\n        return null;\r\n    } else {\r\n        return { validConfirmPassword: true };\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/validators/confirmPassword.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\n// Import da Validação de senhas iguais\nimport { ValidateConfirmPassword } from '../../validators/confirmPassword';\n\n// Imports do Firebase\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AngularFireDatabase } from '@angular/fire/database';\n\n// Imports do IonicStorage\nimport { Storage } from '@ionic/storage';\n\n// Nomeia a página para redirecionamento\n@IonicPage({\n  name: 'create-doador'\n})\n@Component({\n  selector: 'page-create-doador',\n  templateUrl: 'create-doador.html',\n})\nexport class CreateDoadorPage {\n  uid: string;\n  nomeDoador;\n  registerForm: FormGroup;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    //  Declaração para integração com IonicStorage \n    public storage: Storage,\n    //  Declaração para integração com Firebase \n    public db: AngularFireDatabase,\n    //  Declaração para integração com Firebase \n    public afAuth: AngularFireAuth,\n    //  Declaração para Pop-up de Alertas \n    public alertCtrl: AlertController,\n    //  Criação da validação de obrigatoriedade do formulario de cadastro \n    public formbuild: FormBuilder\n  ) {\n    this.registerForm = this.formbuild.group({\n      name: [null, [Validators.required, Validators.minLength(5)]],\n      email: [null, [Validators.required, Validators.email]],\n      password: [null, [Validators.required, Validators.minLength(2)]],\n      // Valida se as senhas do cadastro são iguais (ValidateConfirmPassword)      \n      passwordConfirm: [null, [Validators.required, Validators.minLength(2), ValidateConfirmPassword]],\n\n    })\n  }\n\n    // Metodo para submeter os dados de Email e senha\n    submitForm() {\n      //  Comando utilizado para gerar LOG para parametros de entrada    \n      //  console.log(this.registerForm.value)\n      //  Passagem de parametros\n      this.afAuth.auth.createUserWithEmailAndPassword(\n        this.registerForm.value.email,\n        this.registerForm.value.password)\n        //  Quando for sucesso, colocar mensagem \"Cadastro realizado com Sucesso\"\n        .then((response) => {\n          // Chama o metodo para adicionar campos na tabela\n          this.addDados('nomeDoador', this.registerForm.value.name);\n          this.addDados('emailDoador', this.registerForm.value.email);\n          this.addDados('dataNascDoador', ' ');\n          this.addDados('sexoDoador', ' ');\n          // Chama o metodo de pop-up \n          this.presentAlert('Usuário Cadastrado', 'Usuário cadastrado com sucesso!');\n          // Redireciona para a pagina nomeada como 'start-page' no start.ts\n          this.navCtrl.setRoot('start-doador');\n        })\n      //  Quando for erro\n      .catch((error) => {\n        switch (error.code) {\n          // De Erro no cadastro do usuário\n          case 'auth/email-already-in-use':\n            // Chama o metodo de pop-up \n            this.presentAlert('Erro', 'E-mail já cadastrado!')\n            break;\n          // Desconhecido\n          default:\n            // Chama o metodo de pop-up \n            this.presentAlert('Erro Insert', 'Erro desconhecido, por favor procurar o suporte')\n            break;\n        }\n      })\n  }\n\n  // Metodo para pop-up\n  presentAlert(title: string, subtitle: string) {\n    let alert = this.alertCtrl.create({\n      title: title,\n      subTitle: subtitle,\n      buttons: ['OK']\n    });\n    alert.present();\n  }\n\n  // Metodo para salvar informação apartir da chave do usuário\n  addDados(nomeCampo: string, valorCampo: string) {\n    var usuarioLogado = this.afAuth.auth.currentUser;\n    var userDB = this.db.database.ref('/DadosDoadores').child(usuarioLogado.uid);\n    userDB.child(nomeCampo).set(valorCampo);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/create-doador/create-doador.ts"],"sourceRoot":""}